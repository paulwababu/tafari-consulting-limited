function q2w3_sidebar_init(){for(var e=0;e<q2w3_sidebar_options.length;e++)q2w3_sidebar(q2w3_sidebar_options[e]);jQuery(window).on("resize",function(){for(var e=0;e<q2w3_sidebar_options.length;e++)q2w3_sidebar(q2w3_sidebar_options[e])});var i=function(){for(var e=["WebKit","Moz","O","Ms",""],i=0;i<e.length;i++)if(e[i]+"MutationObserver"in window)return window[e[i]+"MutationObserver"];return!1}();0==q2w3_sidebar_options[0].disable_mo_api&&i?(q2w3Refresh=!1,new i(function(e){e.forEach(function(e){-1==q2w3_exclude_mutations_array(q2w3_sidebar_options).indexOf(e.target.id)&&-1==e.target.className.indexOf("q2w3-fixed-widget-container")&&(q2w3Refresh=!0)})}).observe(document.body,{childList:!0,attributes:!0,attributeFilter:["style","class"],subtree:!0}),setInterval(function(){if(q2w3Refresh){for(var e=0;e<q2w3_sidebar_options.length;e++)q2w3_sidebar(q2w3_sidebar_options[e]);q2w3Refresh=!1}},300)):(console.log("MutationObserver not supported or disabled!"),q2w3_sidebar_options[0].refresh_interval>0&&setInterval(function(){for(var e=0;e<q2w3_sidebar_options.length;e++)q2w3_sidebar(q2w3_sidebar_options[e])},q2w3_sidebar_options[0].refresh_interval))}function q2w3_exclude_mutations_array(e){for(var i=new Array,o=0;o<e.length;o++)if(e[o].widgets.length>0)for(var t=0;t<e[o].widgets.length;t++)i.push(e[o].widgets[t]),i.push(e[o].widgets[t]+"_clone");return i}function q2w3_sidebar(e){function i(){}function o(i){var o,t=i.offset_top-i.fixed_margin_top,n=s-e.margin_bottom;e.stop_id&&jQuery("#"+e.stop_id).length&&(n=jQuery("#"+e.stop_id).offset().top-e.margin_bottom),o=e.width_inherit?"inherit":i.obj.css("width");var d=!1,a=!1,_=!1;jQuery(window).on("scroll."+e.sidebar,function(s){if(jQuery(window).width()<=e.screen_max_width||jQuery(window).height()<=e.screen_max_height)_||(i.obj.css("position",""),i.obj.css("top",""),i.obj.css("bottom",""),i.obj.css("width",""),i.obj.css("margin",""),i.obj.css("padding",""),widget_obj.parent().css("height",""),jQuery("#"+i.clone_id).length>0&&jQuery("#"+i.clone_id).remove(),_=!0,d=!1,a=!1);else{var w=jQuery(this).scrollTop();w+i.fixed_margin_bottom>=n?(a||(i.obj.css("position","fixed"),i.obj.css("top",""),i.obj.css("width",o),jQuery("#"+i.clone_id).length<=0&&i.obj.before(i.clone),a=!0,d=!1,_=!1),i.obj.css("bottom",w+r+i.next_widgets_height-n)):w>=t?d||(i.obj.css("position","fixed"),i.obj.css("top",i.fixed_margin_top),i.obj.css("bottom",""),i.obj.css("width",o),jQuery("#"+i.clone_id).length<=0&&i.obj.before(i.clone),d=!0,a=!1,_=!1):_||(i.obj.css("position",""),i.obj.css("top",""),i.obj.css("bottom",""),i.obj.css("width",""),jQuery("#"+i.clone_id).length>0&&jQuery("#"+i.clone_id).remove(),_=!0,d=!1,a=!1)}}).trigger("scroll."+e.sidebar)}if(!e)return!1;if(!e.widgets)return!1;if(e.widgets.length<1)return!1;e.sidebar||(e.sidebar="q2w3-default-sidebar");var t=new Array,r=jQuery(window).height(),s=jQuery(document).height(),n=e.margin_top;jQuery("#wpadminbar").length&&(n=e.margin_top+jQuery("#wpadminbar").height()),jQuery(".q2w3-widget-clone-"+e.sidebar).remove();for(var d=0;d<e.widgets.length;d++)widget_obj=jQuery("#"+e.widgets[d]),widget_obj.css("position",""),widget_obj.attr("id")?(t[d]=new i,t[d].obj=widget_obj,t[d].clone=widget_obj.clone(),t[d].clone.children().remove(),t[d].clone_id=widget_obj.attr("id")+"_clone",t[d].clone.addClass("q2w3-widget-clone-"+e.sidebar),t[d].clone.attr("id",t[d].clone_id),t[d].clone.css("height",widget_obj.height()),t[d].clone.css("visibility","hidden"),t[d].offset_top=widget_obj.offset().top,t[d].fixed_margin_top=n,t[d].height=widget_obj.outerHeight(!0),t[d].fixed_margin_bottom=n+t[d].height,n+=t[d].height):t[d]=!1;var a,_=0;for(d=t.length-1;d>=0;d--)t[d]&&(t[d].next_widgets_height=_,t[d].fixed_margin_bottom+=_,_+=t[d].height,a||((a=widget_obj.parent()).addClass("q2w3-fixed-widget-container"),a.css("height",""),a.height(a.height())));jQuery(window).off("scroll."+e.sidebar);for(d=0;d<t.length;d++)t[d]&&o(t[d])}"undefined"!=typeof q2w3_sidebar_options&&q2w3_sidebar_options.length>0?window.jQuery?q2w3_sidebar_options[0].window_load_hook?jQuery(window).load(q2w3_sidebar_init()):jQuery(document).ready(q2w3_sidebar_init()):console.log("jQuery is not loaded!"):console.log("q2w3_sidebar_options not found!");